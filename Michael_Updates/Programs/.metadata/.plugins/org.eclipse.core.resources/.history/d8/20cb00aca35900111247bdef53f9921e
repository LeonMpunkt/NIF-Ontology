import java.io.*;
import java.util.*;
import java.util.Scanner;
import java.io.File;

/**
 * TextFileReader class
 * 
 * @author Michael Aranda
 * @param textfile to read, textfile to print output to
 * @data last modified: February 01, 2012
 */

public class TextFileReader{
	
	/**
	 * main method takes 2 paramaters: file to be read and file to print to
	 */
	public static void main(String[] args){
		
		try{
			BufferedReader in = new BufferedReader(new FileReader(args[0]));
			
			FileWriter outFile = new FileWriter(args[1]);
			PrintWriter out = new PrintWriter(outFile);
			ArrayList labelList = new ArrayList();
					
			//Code below added specifically for file CNO_0.2.3.obo on Feb.1, 2012
			out.print("id,name,namespace,comment,is_a,definition,externalSourceURI,synonym," +
					"is_metadata_tag,hasComponent,isComponentOf,hasParameter," +
					"hasParameterValue, isParameterValueOf, hasVariable, isVariableOf," +
					"hasBiologicalCorrelate, isBiologicalCorrelateOf");
			out.println();		
					
			String line;
			line = in.readLine();
			
			/* Line has been read in, 3 cases
			 * 	1. Line -> [Term] or [Typedef"]
			 *  2. Line -> label: ...
			 *  3. Line -> Anything else
			 *  
			 *  Case 1: 
			 *    i. Print out contents of labelList as new line in CSV output file.
			 *    ii. Clear contents of labelList.
			 *  Case 2: 
			 *    i. Add everything after "label:" to index in labelList corresponding
			 *       to label (e.g. "id" -> 0, "namespace" -> 1, etc.)
			 *  Case 3:
			 *    i. Skip.
			 */
			
			//Case 1
			if(line.equals("[Term]") || line.equals("[Typedef]")){
				for(int i = 0; i < labelList.size(); i++){
					 
				}
			}
			
			int indexOfColon = line.indexOf(':');
			
			while((line = in.readLine()) != null){
				if(indexOfColon > 0){			
					/* new row for new term */
					if(line.substring(0,indexOfColon).equals("id")){
						out.println(" ");
					}
					out.print(line.substring(indexOfColon+1,
							 line.length()));
					out.print(",");

				}
	
			}
		
			out.close();
		} catch (IOException e){
			e.printStackTrace();
		}
		
	}

}